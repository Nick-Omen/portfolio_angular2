<div class="pf-container">
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
            <app-admin-table
                [formModel]="languageFormModel"
                [items]="languages"
                (onEdit)="editLanguage($event)"
                (onRemove)="removeLanguage($event)"
                (onRefresh)="reloadLanguages()"></app-admin-table>
            <div [ngClass]="{'pf-form-box': true, 'mdl-typography--text-right': !addItem}">
                <button *ngIf="!addItem"
                        type="button"
                        class="mdl-button mdl-js-button mdl-button--with-ripple"
                        (click)="triggerForm()">Add item</button>
                <form *ngIf="addItem"
                      class="pf-form"
                      [formGroup]="form"
                      (submit)="formSubmit($event)">
                    <h3 class="mdl-typography--header">
                        {{form.value.id ? 'Edit item' : 'Add item'}}
                    </h3>
                    <input type="hidden" formControlName="id" [attr.value]="form.value?.id ? form.value?.id : 0">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="name" formControlName="name">
                        <label class="mdl-textfield__label" for="name">Name</label>
                        <span class="mdl-textfield__error"></span>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="number" min="0" max="100" id="skill_level" formControlName="skill_level">
                        <label class="mdl-textfield__label" for="skill_level">Skill level</label>
                        <span class="mdl-textfield__error"></span>
                    </div>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="experience" formControlName="experience">
                        <label class="mdl-textfield__label" for="experience">Experience from</label>
                        <span class="mdl-textfield__error">01-01-2015</span>
                    </div>
                    <button [attr.disabled]="form.valid ? null : 'disabled'"
                            type="submit"
                            class="mdl-button mdl-js-button mdl-button--with-ripple mdl-button--raised mdl-button--accent">Submit</button>
                    <button (click)="closeForm()"
                            type="button"
                            class="mdl-button mdl-js-button mdl-button--with-ripple">Cancel</button>
                </form>
            </div>
        </div>
    </div>
</div>